(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[395],{622:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/directory/regions/[tab]",function(){return r(1797)}])},1797:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var a=r(5893),l=r(7294),n=r(1163),i=r(6822),s=r(5050),d=r(5670),o=r(948),c=r(5861),x=r(8456),u=r(263),p=r(6242),h=r(7469),m=r(44),g=r(298),f=r(6886);let j=e=>{let{title:t,subtitle:r}=e;return(0,a.jsxs)(f.ZP,{item:!0,xs:12,children:[t,r||null]})};var Z=r(4267),v=r(1271),y=r(2120),b=r(2734),w=r(6456),_=r(871),S=r(4640),C=r(5125),I=r(6501);let W=()=>{var e;let{t}=(0,y.$G)();(0,b.Z)();let[r,n]=(0,l.useState)(""),[s,d]=(0,l.useState)(!1),o=(0,l.useRef)(null),x=async()=>{var e,t;let r=null===(e=o.current)||void 0===e?void 0:e.elements.namedItem("name"),l=null===(t=o.current)||void 0===t?void 0:t.elements.namedItem("sv_regionId"),n={name:r.value,sv_regionId:l.value};try{await _.D.post(S.Z.country,n),I.ZP.success((0,a.jsx)(h.Z,{text:"Success!"})),u(),f()}catch(e){console.log(e)}},u=()=>{d(!1)},[m,g]=(0,l.useState)(),f=async()=>{try{var e;let t=await _.D.get(S.Z.country,{search:r});g(null===(e=t.data)||void 0===e?void 0:e.result)}catch(e){console.log(e)}};(0,l.useEffect)(()=>{f()},[r]);let j=[{flex:.5,field:"id",maxWidth:100,minWidth:100,headerName:t("ID"),renderCell:e=>{let{row:t}=e;return(0,a.jsx)(i.Z,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:(0,a.jsx)(c.Z,{flexWrap:"wrap",sx:{color:"text.secondary",textTransform:"capitalize"},children:t.id})})}},{flex:.18,maxWidth:200,minWidth:200,field:"sv_regionId",headerName:t("sv_regionId"),renderCell:e=>{let{row:t}=e;return(0,a.jsx)(i.Z,{sx:{display:"flex",alignItems:"center"},children:(0,a.jsx)(c.Z,{flexWrap:"wrap",sx:{color:"text.secondary",textTransform:"capitalize"},children:t.sv_regionId})})}},{flex:.18,maxWidth:250,minWidth:250,field:"name",headerName:t("name"),renderCell:e=>{let{row:t}=e;return(0,a.jsx)(i.Z,{sx:{display:"flex",alignItems:"center"},children:(0,a.jsx)(c.Z,{flexWrap:"wrap",sx:{color:"text.secondary",textTransform:"capitalize"},children:t.name})})}}],[W,D]=(0,l.useState)({page:0,pageSize:10}),M=(0,l.useCallback)(e=>{n(e)},[]);return(0,a.jsxs)(p.Z,{children:[(0,a.jsx)(C.Z,{handleClose:u,open:s,handleSave:x,title:"region",children:(0,a.jsx)("form",{ref:o,children:(0,a.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column",gap:4},children:[(0,a.jsx)(w.Z,{fullWidth:!0,name:"name",label:t("name"),placeholder:t("name"),required:!0}),(0,a.jsx)(w.Z,{fullWidth:!0,name:"sv_regionId",label:t("sv_regionId"),placeholder:t("sv_regionId"),required:!0})]})})}),(0,a.jsx)(Z.Z,{sx:{display:"flex",justifyContent:"space-between"},children:(0,a.jsx)(w.Z,{value:r,sx:{mr:4},placeholder:null!==(e=t("Search"))&&void 0!==e?e:"",onChange:e=>M(e.target.value)})})," ",(0,a.jsx)(v._,{sx:{"&.MuiDataGrid-root--densityCompact .MuiDataGrid-cell":{py:1,whiteSpace:"pre-wrap"},"&.MuiDataGrid-root--densityStandard .MuiDataGrid-cell":{py:"15px",whiteSpace:"pre-wrap"},"&.MuiDataGrid-root--densityComfortable .MuiDataGrid-cell":{py:"22px",whiteSpace:"pre-wrap"}},getRowHeight:()=>"auto",autoHeight:!0,rowHeight:62,rows:m||[],columns:j,disableRowSelectionOnClick:!0,pageSizeOptions:[10,25,50],paginationModel:W,onPaginationModelChange:D})]})};var D=r(4383);let M=(0,o.ZP)(u.Z)(e=>{let{theme:t}=e;return{"& .MuiBadge-badge":{right:-3,top:10,border:"2px solid ".concat(t.palette.background.paper),padding:"0 4px"}}}),N=()=>{let[e,t]=(0,l.useState)("head"),[r,o]=(0,l.useState)(!0),[u,f]=(0,l.useState)(0),[Z,v]=(0,l.useState)(0),[y,b]=(0,l.useState)(),w=(0,n.useRouter)(),_=(e,r)=>{o(!0),t(r),w.push({pathname:"/directory/regions/".concat(r.toLowerCase())}).then(()=>o(!1))};return(0,l.useEffect)(()=>{t(w.query.tab),o(!1)},[w.query.tab]),(0,a.jsxs)(i.Z,{children:[(0,a.jsx)(i.Z,{sx:{mb:5},children:(0,a.jsx)(j,{title:(0,a.jsx)(c.Z,{variant:"h4",children:(0,a.jsx)(h.Z,{text:"regions"})})})}),(0,a.jsx)(p.Z,{children:(0,a.jsxs)(d.ZP,{value:e,children:[(0,a.jsxs)(g.Z,{variant:"scrollable",scrollButtons:"auto",onChange:_,"aria-label":"forced scroll tabs example",sx:{borderBottom:e=>"1px solid ".concat(e.palette.divider)},children:[(0,a.jsx)(m.Z,{value:"region",label:(0,a.jsx)(M,{badgeContent:u,color:"primary",sx:{pr:6},children:(0,a.jsx)(h.Z,{text:"region"})})}),(0,a.jsx)(m.Z,{value:"district",label:(0,a.jsx)(M,{badgeContent:Z,color:"primary",sx:{pr:6},children:(0,a.jsx)(h.Z,{text:"district"})})})]}),(0,a.jsx)(i.Z,{sx:{mt:4},children:y&&r?(0,a.jsxs)(i.Z,{sx:{mt:6,display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,a.jsx)(x.Z,{sx:{mb:4}}),(0,a.jsx)(c.Z,{children:"Loading..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{sx:{p:0},value:"region",children:(0,a.jsx)(W,{})}),(0,a.jsx)(s.Z,{sx:{p:0},value:"district",children:(0,a.jsx)(D.Z,{})})]})})]})})]})};var k=N}},function(e){e.O(0,[401,886,735,702,548,569,383,774,888,179],function(){return e(e.s=622)}),_N_E=e.O()}]);