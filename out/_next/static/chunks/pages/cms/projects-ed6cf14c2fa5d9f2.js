(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[162],{7435:function(e,n,t){"use strict";t.d(n,{Z:function(){return C}});var i=t(3366),r=t(7462),o=t(7294),a=t(4128),l=t(9766),s=t(4780),c=t(4867),d=t(9852);let u=(0,d.ZP)();var h=t(1607),Z=t(7893),j=t(6567),x=t(6663),p=t(976),f=t(5893);let m=["component","direction","spacing","divider","children","className","useFlexGap"],v=(0,j.Z)(),g=u("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,n)=>n.root});function y(e){return(0,h.Z)({props:e,name:"MuiStack",defaultTheme:v})}let b=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],k=({ownerState:e,theme:n})=>{let t=(0,r.Z)({display:"flex",flexDirection:"column"},(0,x.k9)({theme:n},(0,x.P$)({values:e.direction,breakpoints:n.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let i=(0,p.hB)(n),r=Object.keys(n.breakpoints.values).reduce((n,t)=>(("object"==typeof e.spacing&&null!=e.spacing[t]||"object"==typeof e.direction&&null!=e.direction[t])&&(n[t]=!0),n),{}),o=(0,x.P$)({values:e.direction,base:r}),a=(0,x.P$)({values:e.spacing,base:r});"object"==typeof o&&Object.keys(o).forEach((e,n,t)=>{let i=o[e];if(!i){let i=n>0?o[t[n-1]]:"column";o[e]=i}});let s=(n,t)=>e.useFlexGap?{gap:(0,p.NA)(i,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${b(t?o[t]:e.direction)}`]:(0,p.NA)(i,n)}};t=(0,l.Z)(t,(0,x.k9)({theme:n},a,s))}return(0,x.dt)(n.breakpoints,t)};var w=t(948),P=t(1657);let _=function(e={}){let{createStyledComponent:n=g,useThemeProps:t=y,componentName:l="MuiStack"}=e,d=()=>(0,s.Z)({root:["root"]},e=>(0,c.Z)(l,e),{}),u=n(k),h=o.forwardRef(function(e,n){let l=t(e),s=(0,Z.Z)(l),{component:c="div",direction:h="column",spacing:j=0,divider:x,children:p,className:v,useFlexGap:g=!1}=s,y=(0,i.Z)(s,m),b=d();return(0,f.jsx)(u,(0,r.Z)({as:c,ownerState:{direction:h,spacing:j,useFlexGap:g},ref:n,className:(0,a.Z)(b.root,v)},y,{children:x?function(e,n){let t=o.Children.toArray(e).filter(Boolean);return t.reduce((e,i,r)=>(e.push(i),r<t.length-1&&e.push(o.cloneElement(n,{key:`separator-${r}`})),e),[])}(p,x):p}))});return h}({createStyledComponent:(0,w.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,n)=>n.root}),useThemeProps:e=>(0,P.Z)({props:e,name:"MuiStack"})});var C=_},2882:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var i=t(7462),r=t(3366),o=t(7294),a=t(6010),l=t(4780),s=t(1657),c=t(948),d=t(1588),u=t(4867);function h(e){return(0,u.Z)("MuiTableContainer",e)}(0,d.Z)("MuiTableContainer",["root"]);var Z=t(5893);let j=["className","component"],x=e=>{let{classes:n}=e;return(0,l.Z)({root:["root"]},h,n)},p=(0,c.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,n)=>n.root})({width:"100%",overflowX:"auto"}),f=o.forwardRef(function(e,n){let t=(0,s.Z)({props:e,name:"MuiTableContainer"}),{className:o,component:l="div"}=t,c=(0,r.Z)(t,j),d=(0,i.Z)({},t,{component:l}),u=x(d);return(0,Z.jsx)(p,(0,i.Z)({ref:n,as:l,className:(0,a.Z)(u.root,o),ownerState:d},c))});var m=f},4908:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cms/projects",function(){return t(3580)}])},1846:function(e,n,t){"use strict";t.d(n,{z:function(){return o}});var i=t(6976),r=t(871);function o(e){var n;let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,a=async e=>{let[n,t]=e,i=await r.D.get(n,t);return i.data},{data:l,error:s,isLoading:c,mutate:d}=(0,i.ZP)(e?[e,t]:null,a,{revalidateOnFocus:!1,keepPreviousData:!0,...o});return console.log("payload",l),{data:(null==l?void 0:l.results)||[],total:(null==l?void 0:null===(n=l.pagination)||void 0===n?void 0:n.total)||0,loading:!!c,error:s,mutate:d,raw:l}}},3580:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return N}});var i=t(5893),r=t(7294),o=t(1664),a=t.n(o),l=t(6242),s=t(8445),c=t(7906),d=t(295),u=t(3252),h=t(2882),Z=t(3184),j=t(3816),x=t(3946),p=t(3321),f=t(7435),m=t(4386),v=t(4640),g=t(871),y=t(9025),b=t(1846),k=t(2171),w=t(3730);let P=()=>(0,i.jsx)("span",{style:{fontWeight:"bold"},children:"＋"}),_=()=>{let[e,n]=(0,r.useState)(0),[t,o]=(0,r.useState)(10),[_,C]=(0,r.useState)(""),{data:N,total:S,loading:q,mutate:R}=(0,b.z)(v.Z.projects,{page:e+1,perPage:t,search:_}),[M,T]=(0,r.useState)(null),[O,z]=(0,r.useState)(!1),B=e=>{T(e),z(!0)},E=async()=>{M&&(await g.D.delete(v.Z.projectById(M.id)),R(),z(!1))};return(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(s.Z,{title:"Loyihalar",action:(0,i.jsx)(a(),{href:"/cms/projects/create",passHref:!0,legacyBehavior:!0,children:(0,i.jsx)(p.Z,{variant:"contained",startIcon:(0,i.jsx)(P,{}),component:"a",children:"Yangi loyiha"})})}),(0,i.jsx)(h.Z,{children:(0,i.jsxs)(c.Z,{children:[(0,i.jsx)(Z.Z,{children:(0,i.jsxs)(j.Z,{children:[(0,i.jsx)(u.Z,{children:"Nomi (UZ)"}),(0,i.jsx)(u.Z,{children:"Nomi (EN)"}),(0,i.jsx)(u.Z,{children:"Nomi (RU)"}),(0,i.jsx)(u.Z,{children:"Yil"}),(0,i.jsx)(u.Z,{children:"Asosiy"}),(0,i.jsx)(u.Z,{children:"Tartib raqami"}),(0,i.jsx)(u.Z,{align:"right",children:"Amallar"})]})}),(0,i.jsx)(d.Z,{children:q?(0,i.jsx)(j.Z,{children:(0,i.jsx)(u.Z,{colSpan:7,align:"center",children:"Yuklanmoqda…"})}):N&&N.length>0?N.map(e=>(0,i.jsxs)(j.Z,{children:[(0,i.jsx)(u.Z,{children:e.title_uz}),(0,i.jsx)(u.Z,{children:e.title_en}),(0,i.jsx)(u.Z,{children:e.title_ru}),(0,i.jsx)(u.Z,{children:e.year}),(0,i.jsx)(u.Z,{children:e.is_featured?"Ha":"Yo‘q"}),(0,i.jsx)(u.Z,{children:e.order_index}),(0,i.jsx)(u.Z,{align:"right",children:(0,i.jsxs)(f.Z,{direction:"row",spacing:1,justifyContent:"flex-end",children:[(0,i.jsx)(m.Z,{title:"Tahrirlash",children:(0,i.jsx)(a(),{href:"/cms/projects/".concat(e.id,"/edit"),passHref:!0,legacyBehavior:!0,children:(0,i.jsx)(x.Z,{size:"small",component:"a",children:(0,i.jsx)(w.Z,{icon:"tabler:edit"})})})}),(0,i.jsx)(m.Z,{title:"O‘chirish",children:(0,i.jsx)(x.Z,{size:"small",color:"error",onClick:()=>B(e),children:(0,i.jsx)(w.Z,{icon:"tabler:trash"})})})]})})]},e.id)):(0,i.jsx)(j.Z,{children:(0,i.jsx)(u.Z,{colSpan:7,align:"center",children:"Ma‘lumotlar yo‘q"})})})]})}),(0,i.jsx)(k.Z,{component:"div",count:S,page:e,onPageChange:(e,t)=>n(t),rowsPerPage:t,onRowsPerPageChange:e=>{o(parseInt(e.target.value,10)),n(0)},rowsPerPageOptions:[5,10,20,50]}),(0,i.jsx)(y.Z,{open:O,onClose:()=>z(!1),onConfirm:E,title:"Loyihani o‘chirishni tasdiqlang",description:M?"“".concat(M.title_uz,"” loyihasini o‘chirmoqchimisiz?"):void 0})]})},C=()=>(0,i.jsx)(_,{});C.acl={action:"read",subject:"cms"},C.authGuard=!0;var N=C},9025:function(e,n,t){"use strict";var i=t(5893),r=t(657),o=t(7645),a=t(6580),l=t(1425),s=t(3321),c=t(5861);let d=e=>{let{open:n,onClose:t,onConfirm:d,confirming:u,title:h,description:Z}=e;return(0,i.jsxs)(r.Z,{open:n,onClose:u?void 0:t,fullWidth:!0,maxWidth:"xs",children:[(0,i.jsx)(o.Z,{children:h||"Loyihani o‘chirishni tasdiqlang"}),(0,i.jsx)(a.Z,{children:(0,i.jsx)(c.Z,{variant:"body2",children:Z||"Bu amalni bekor qilib bo‘lmaydi. Haqiqatdan ham o‘chirmoqchimisiz?"})}),(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(s.Z,{variant:"tonal",color:"secondary",onClick:t,disabled:!!u,children:"Bekor qilish"}),(0,i.jsx)(s.Z,{color:"error",onClick:()=>d(),disabled:!!u,children:u?"O‘chirilmoqda…":"O‘chirish"})]})]})};n.Z=d}},function(e){e.O(0,[41,203,631,895,171,153,774,888,179],function(){return e(e.s=4908)}),_N_E=e.O()}]);