(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[547],{4267:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(7462),a=r(3366),i=r(7294),l=r(6010),o=r(4780),s=r(948),d=r(1657),u=r(1588),c=r(4867);function p(e){return(0,c.Z)("MuiCardContent",e)}(0,u.Z)("MuiCardContent",["root"]);var m=r(5893);let h=["className","component"],x=e=>{let{classes:t}=e;return(0,o.Z)({root:["root"]},p,t)},j=(0,s.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),g=i.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiCardContent"}),{className:i,component:o="div"}=r,s=(0,a.Z)(r,h),u=(0,n.Z)({},r,{component:o}),c=x(u);return(0,m.jsx)(j,(0,n.Z)({as:o,className:(0,l.Z)(c.root,i),ownerState:u,ref:t},s))});var f=g},8445:function(e,t,r){"use strict";r.d(t,{Z:function(){return z}});var n=r(3366),a=r(7462),i=r(7294),l=r(6010),o=r(4780),s=r(5861),d=r(1657),u=r(948),c=r(1588),p=r(4867);function m(e){return(0,p.Z)("MuiCardHeader",e)}let h=(0,c.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var x=r(5893);let j=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],g=e=>{let{classes:t}=e;return(0,o.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},m,t)},f=(0,u.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,a.Z)({[`& .${h.title}`]:t.title,[`& .${h.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),v=(0,u.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),Z=(0,u.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),y=(0,u.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),b=i.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiCardHeader"}),{action:i,avatar:o,className:u,component:c="div",disableTypography:p=!1,subheader:m,subheaderTypographyProps:h,title:b,titleTypographyProps:z}=r,M=(0,n.Z)(r,j),C=(0,a.Z)({},r,{component:c,disableTypography:p}),S=g(C),_=b;null==_||_.type===s.Z||p||(_=(0,x.jsx)(s.Z,(0,a.Z)({variant:o?"body2":"h5",className:S.title,component:"span",display:"block"},z,{children:_})));let w=m;return null==w||w.type===s.Z||p||(w=(0,x.jsx)(s.Z,(0,a.Z)({variant:o?"body2":"body1",className:S.subheader,color:"text.secondary",component:"span",display:"block"},h,{children:w}))),(0,x.jsxs)(f,(0,a.Z)({className:(0,l.Z)(S.root,u),as:c,ref:t,ownerState:C},M,{children:[o&&(0,x.jsx)(v,{className:S.avatar,ownerState:C,children:o}),(0,x.jsxs)(y,{className:S.content,ownerState:C,children:[_,w]}),i&&(0,x.jsx)(Z,{className:S.action,ownerState:C,children:i})]}))});var z=b},4521:function(e,t,r){"use strict";r.d(t,{Aj:function(){return s},DS:function(){return f},Fd:function(){return v},MZ:function(){return d},PE:function(){return p},Q$:function(){return y},TE:function(){return S},Wo:function(){return Z},YH:function(){return M},ZC:function(){return c},Zz:function(){return m},dI:function(){return H},fv:function(){return o},jC:function(){return j},kO:function(){return i},l0:function(){return C},nC:function(){return g},pD:function(){return _},sp:function(){return l},t7:function(){return x},vf:function(){return b},w0:function(){return w},wC:function(){return u},wg:function(){return P},yP:function(){return h},z2:function(){return z}}),r(7294);var n=r(8169),a=r(5893);let i=(0,n.Z)((0,a.jsx)("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),l=(0,n.Z)((0,a.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),o=(0,n.Z)((0,a.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),s=(0,n.Z)((0,a.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),d=(0,n.Z)((0,a.jsx)("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),u=(0,n.Z)((0,a.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),c=(0,n.Z)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");(0,n.Z)((0,a.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),(0,n.Z)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");let p=(0,n.Z)((0,a.jsx)("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),m=(0,n.Z)((0,a.jsx)("path",{d:"M11 19V5h2v14z"}),"Separator"),h=(0,n.Z)((0,a.jsx)("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),x=(0,n.Z)((0,a.jsx)("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),j=(0,n.Z)((0,a.jsx)("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),g=(0,n.Z)((0,a.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),f=(0,n.Z)((0,a.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),v=(0,n.Z)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),Z=(0,n.Z)((0,a.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),y=(0,n.Z)((0,a.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),b=(0,n.Z)((0,a.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),z=(0,n.Z)((0,a.jsx)("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),M=(0,n.Z)((0,a.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),C=(0,n.Z)((0,a.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),S=(0,n.Z)((0,a.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),_=(0,n.Z)((0,a.jsx)("g",{children:(0,a.jsx)("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),w=(0,n.Z)((0,a.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),P=(0,n.Z)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),H=(0,n.Z)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},2917:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cms/projects/[id]/edit",function(){return r(356)}])},6456:function(e,t,r){"use strict";var n=r(5893),a=r(7294),i=r(948),l=r(1903);let o=(0,i.ZP)(l.Z)(e=>{let{theme:t}=e;return{alignItems:"flex-start","& .MuiInputLabel-root":{transform:"none",lineHeight:1.154,position:"relative",marginBottom:t.spacing(1),fontSize:t.typography.body2.fontSize,color:"".concat(t.palette.text.primary," !important")},"& .MuiInputBase-root":{borderRadius:8,backgroundColor:"transparent !important",border:"1px solid rgba(".concat(t.palette.customColors.main,", 0.2)"),transition:t.transitions.create(["border-color","box-shadow"],{duration:t.transitions.duration.shorter}),"&:not(.Mui-focused):not(.Mui-disabled):not(.Mui-error):hover":{borderColor:"rgba(".concat(t.palette.customColors.main,", 0.28)")},"&:before, &:after":{display:"none"},"&.MuiInputBase-sizeSmall":{borderRadius:6},"&.Mui-error":{borderColor:t.palette.error.main},"&.Mui-focused":{boxShadow:t.shadows[2],"& .MuiInputBase-input:not(.MuiInputBase-readOnly):not([readonly])::placeholder":{transform:"translateX(4px)"},"&.MuiInputBase-colorPrimary":{borderColor:t.palette.primary.main},"&.MuiInputBase-colorSecondary":{borderColor:t.palette.secondary.main},"&.MuiInputBase-colorInfo":{borderColor:t.palette.info.main},"&.MuiInputBase-colorSuccess":{borderColor:t.palette.success.main},"&.MuiInputBase-colorWarning":{borderColor:t.palette.warning.main},"&.MuiInputBase-colorError":{borderColor:t.palette.error.main},"&.Mui-error":{borderColor:t.palette.error.main}},"&.Mui-disabled":{backgroundColor:"".concat(t.palette.action.selected," !important")},"& .MuiInputAdornment-root":{marginTop:"0 !important"}},"& .MuiInputBase-input":{color:t.palette.text.secondary,"&:not(textarea)":{padding:"15.5px 13px"},"&:not(textarea).MuiInputBase-inputSizeSmall":{padding:"7.5px 13px"},"&:not(.MuiInputBase-readOnly):not([readonly])::placeholder":{transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter})},"&.MuiInputBase-inputAdornedStart:not(.MuiAutocomplete-input)":{paddingLeft:0},"&.MuiInputBase-inputAdornedEnd:not(.MuiAutocomplete-input)":{paddingRight:0}},"& .MuiFormHelperText-root":{lineHeight:1.154,margin:t.spacing(1,0,0),color:t.palette.text.secondary,fontSize:t.typography.body2.fontSize,"&.Mui-error":{color:t.palette.error.main}},"& .MuiSelect-select:focus, & .MuiNativeSelect-select:focus":{backgroundColor:"transparent"},"& .MuiSelect-filled .MuiChip-root":{height:22},"& .MuiAutocomplete-input":{paddingLeft:"6px !important",paddingTop:"7.5px !important",paddingBottom:"7.5px !important","&.MuiInputBase-inputSizeSmall":{paddingLeft:"6px !important",paddingTop:"2.5px !important",paddingBottom:"2.5px !important"}},"& .MuiAutocomplete-inputRoot":{paddingTop:"8px !important",paddingLeft:"8px !important",paddingBottom:"8px !important","&:not(.MuiInputBase-sizeSmall).MuiInputBase-adornedStart":{paddingLeft:"13px !important"},"&.MuiInputBase-sizeSmall":{paddingTop:"5px !important",paddingLeft:"5px !important",paddingBottom:"5px !important","& .MuiAutocomplete-tag":{margin:2,height:22}}},"& .MuiInputBase-multiline":{padding:"15.25px 13px","&.MuiInputBase-sizeSmall":{padding:"7.25px 13px"},"& textarea.MuiInputBase-inputSizeSmall:placeholder-shown":{overflowX:"hidden"}},"& + .react-datepicker__close-icon":{top:11,"&:after":{fontSize:"1.6rem !important"}}}}),s=(0,a.forwardRef)((e,t)=>{let{size:r="small",InputLabelProps:a,...i}=e;return(0,n.jsx)(o,{size:r,inputRef:t,...i,variant:"filled",InputLabelProps:{...a,shrink:!0}})});t.Z=s},1846:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var n=r(6976),a=r(871);function i(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,l=async e=>{let[t,r]=e,n=await a.D.get(t,r);return n.data},{data:o,error:s,isLoading:d,mutate:u}=(0,n.ZP)(e?[e,r]:null,l,{revalidateOnFocus:!1,keepPreviousData:!0,...i});return console.log("payload",o),{data:(null==o?void 0:o.results)||[],total:(null==o?void 0:null===(t=o.pagination)||void 0===t?void 0:t.total)||0,loading:!!d,error:s,mutate:u,raw:o}}},356:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return L}});var n=r(5893),a=r(1163),i=r(7294),l=r(6242),o=r(8445),s=r(4267),d=r(6886),u=r(3321),c=r(6456),p=r(9702),m=r(8972),h=r(7536),x=r(629),j=r(3946),g=r(657),f=r(7645),v=r(6580),Z=r(1425),y=r(1903),b=r(4521);function z(e){let{projectId:t,items:r,onAdd:a,onDelete:l}=e,[c,p]=(0,i.useState)(!1),[m,h]=(0,i.useState)(""),z=()=>{m.trim()&&(a({name:m,project:t}),h(""),p(!1))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{title:"Loyiha deliverabllari",action:(0,n.jsx)(u.Z,{startIcon:(0,n.jsx)(b.Fd,{}),onClick:()=>p(!0),children:"Yangi deliverable"})}),(0,n.jsx)(s.Z,{children:(0,n.jsx)(d.ZP,{container:!0,spacing:2,children:r.map(e=>(0,n.jsx)(d.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,n.jsxs)(x.Z,{elevation:2,sx:{p:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsx)("span",{style:{fontWeight:500},children:e.name}),(0,n.jsx)(j.Z,{color:"error",onClick:()=>e.id&&l(e.id),children:(0,n.jsx)(b.wg,{})})]})},e.id||e.name))})}),(0,n.jsxs)(g.Z,{open:c,onClose:()=>p(!1),children:[(0,n.jsx)(f.Z,{children:"Yangi deliverable"}),(0,n.jsx)(v.Z,{children:(0,n.jsx)(y.Z,{autoFocus:!0,fullWidth:!0,label:"Nomi",value:m,onChange:e=>h(e.target.value)})}),(0,n.jsxs)(Z.Z,{children:[(0,n.jsx)(u.Z,{onClick:()=>p(!1),children:"Bekor qilish"}),(0,n.jsx)(u.Z,{onClick:z,variant:"contained",children:"Qo'shish"})]})]})]})}function M(e){let{projectId:t,items:r,onAdd:a,onDelete:c}=e,[p,m]=(0,i.useState)(!1),[h,x]=(0,i.useState)(""),[z,M]=(0,i.useState)(0),[C,S]=(0,i.useState)(null),_=()=>{C&&(a({image:"",caption:h,order_index:z,project:t},C),x(""),M(0),S(null),m(!1))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{title:"Galereya",action:(0,n.jsx)(u.Z,{startIcon:(0,n.jsx)(b.Fd,{}),onClick:()=>m(!0),children:"Yangi rasm"})}),(0,n.jsx)(s.Z,{children:(0,n.jsx)(d.ZP,{container:!0,spacing:2,children:r.map(e=>(0,n.jsx)(d.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,n.jsxs)(l.Z,{sx:{position:"relative",p:1},children:[(0,n.jsx)("img",{src:e.image,alt:e.caption,style:{width:"100%",height:160,objectFit:"cover",borderRadius:8}}),(0,n.jsxs)("div",{style:{padding:8},children:[(0,n.jsx)("div",{style:{fontWeight:500},children:e.caption}),(0,n.jsxs)("div",{style:{fontSize:12,color:"#888"},children:["Tartib: ",e.order_index]})]}),(0,n.jsx)(j.Z,{color:"error",size:"small",sx:{position:"absolute",top:4,right:4},onClick:()=>e.id&&c(e.id),children:(0,n.jsx)(b.wg,{fontSize:"small"})})]})},e.id||e.caption))})}),(0,n.jsxs)(g.Z,{open:p,onClose:()=>m(!1),children:[(0,n.jsx)(f.Z,{children:"Yangi rasm"}),(0,n.jsxs)(v.Z,{children:[(0,n.jsx)(y.Z,{fullWidth:!0,label:"Izoh",value:h,onChange:e=>x(e.target.value),sx:{mb:2}}),(0,n.jsx)(y.Z,{fullWidth:!0,type:"number",label:"Tartib raqami",value:z,onChange:e=>M(Number(e.target.value)),sx:{mb:2}}),(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;return S((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)}})]}),(0,n.jsxs)(Z.Z,{children:[(0,n.jsx)(u.Z,{onClick:()=>m(!1),children:"Bekor qilish"}),(0,n.jsx)(u.Z,{onClick:_,variant:"contained",disabled:!C,children:"Qo'shish"})]})]})]})}var C=r(871),S=r(4640),_=r(1846),w=r(6501);let P={industries:[],equipment_categories:[],partners:[],title:"",title_en:"",title_uz:"",title_ru:"",slug:"",year:new Date().getFullYear(),scope:"",scope_en:"",scope_uz:"",scope_ru:"",summary:"",summary_en:"",summary_uz:"",summary_ru:"",featured_image:null,is_featured:!1,order_index:0,country:"",region:"",district:""},H=()=>{let e=(0,a.useRouter)(),{id:t}=e.query,r=Number(t)||0,x=function(e){let[t,r]=(0,i.useState)([]),[n,a]=(0,i.useState)(!1);(0,i.useEffect)(()=>{e&&(a(!0),C.D.get("/project-deliverable?project=".concat(e)).then(e=>{r(e.results||[])}).finally(()=>a(!1)))},[e]);let l=async e=>{let t=await C.D.post("/project-deliverable",e);r(e=>[...e,t.data?t.data:t])},o=async e=>{await C.D.delete("/project-deliverable/".concat(e)),r(t=>t.filter(t=>t.id!==e))};return{items:t,loading:n,add:l,remove:o}}(r),j=function(e){let[t,r]=(0,i.useState)([]),[n,a]=(0,i.useState)(!1);(0,i.useEffect)(()=>{e&&(a(!0),C.D.get("/project-image?project=".concat(e)).then(e=>{r(e.results||[])}).finally(()=>a(!1)))},[e]);let l=async(e,t)=>{let n=new FormData;Object.entries(e).forEach(e=>{let[t,r]=e;return n.append(t,String(r))}),n.append("image",t);let a=await C.D.postForm("/project-image",n);r(e=>[...e,a.data?a.data:a])},o=async e=>{await C.D.delete("/project-image/".concat(e)),r(t=>t.filter(t=>t.id!==e))};return{items:t,loading:n,add:l,remove:o}}(r),{control:g,handleSubmit:f,setValue:v,watch:Z,reset:y,formState:{isSubmitting:b}}=(0,h.cI)({defaultValues:P}),{data:H=[]}=(0,_.z)(S.Z.industries,{perPage:100}),{data:L=[]}=(0,_.z)(S.Z.equipmentCategories,{perPage:100}),{data:I=[]}=(0,_.z)(S.Z.partners,{perPage:100}),{data:k=[]}=(0,_.z)("/country",{perPage:100}),{data:V=[]}=(0,_.z)("/region",{perPage:100,country:Z("country")}),{data:B=[]}=(0,_.z)("/district",{perPage:100,region:Z("region")}),[R,A]=(0,i.useState)(null);(0,i.useEffect)(()=>{t&&C.D.get("".concat(S.Z.projects,"/").concat(t)).then(e=>{y({...e.data,featured_image:null}),"string"==typeof e.data.featured_image&&A(e.data.featured_image)})},[t,y]);let Q=e=>{var t;let r=(null===(t=e.target.files)||void 0===t?void 0:t[0])||null;v("featured_image",r),r&&A(URL.createObjectURL(r))},N=async r=>{let n=new FormData;Object.entries(r).forEach(e=>{let[t,r]=e;"featured_image"===t&&r?n.append("featured_image",r):Array.isArray(r)?r.forEach(e=>n.append(t,String(e))):null!=r&&n.append(t,String(r))});try{await C.D.putForm("".concat(S.Z.projects,"/").concat(t),n),w.ZP.success("Loyiha muvaffaqiyatli yangilandi!"),e.push("/cms/projects")}catch(e){w.ZP.error("Loyihani yangilashda xatolik!")}};return(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(o.Z,{title:"Loyihani tahrirlash"}),(0,n.jsxs)("form",{onSubmit:f(N),children:[(0,n.jsx)(s.Z,{children:(0,n.jsxs)(d.ZP,{container:!0,spacing:4,children:[(0,n.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(h.Qr,{name:"title_en",control:g,render:e=>{let{field:t}=e;return(0,n.jsx)(c.Z,{fullWidth:!0,label:"Nomi (EN)",...t})}})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(h.Qr,{name:"title_uz",control:g,render:e=>{let{field:t}=e;return(0,n.jsx)(c.Z,{fullWidth:!0,label:"Nomi (UZ)",...t})}})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(h.Qr,{name:"title_ru",control:g,render:e=>{let{field:t}=e;return(0,n.jsx)(c.Z,{fullWidth:!0,label:"Nomi (RU)",...t})}})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(h.Qr,{name:"slug",control:g,rules:{required:!0},render:e=>{let{field:t}=e;return(0,n.jsx)(c.Z,{fullWidth:!0,label:"Slug",...t})}})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(h.Qr,{name:"year",control:g,render:e=>{let{field:t}=e;return(0,n.jsx)(c.Z,{fullWidth:!0,type:"number",label:"Yil",...t,inputProps:{min:1900,max:2100}})}})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(h.Qr,{name:"scope_en",control:g,render:e=>{let{field:t}=e;return(0,n.jsx)(c.Z,{fullWidth:!0,label:"Loyiha doirasi (EN)",...t})}})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(h.Qr,{name:"scope_uz",control:g,render:e=>{let{field:t}=e;return(0,n.jsx)(c.Z,{fullWidth:!0,label:"Loyiha doirasi (UZ)",...t})}})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(h.Qr,{name:"scope_ru",control:g,render:e=>{let{field:t}=e;return(0,n.jsx)(c.Z,{fullWidth:!0,label:"Loyiha doirasi (RU)",...t})}})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(h.Qr,{name:"summary_en",control:g,render:e=>{let{field:t}=e;return(0,n.jsx)(c.Z,{fullWidth:!0,label:"Qisqacha ma’lumot (EN)",multiline:!0,minRows:2,...t})}})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(h.Qr,{name:"summary_uz",control:g,render:e=>{let{field:t}=e;return(0,n.jsx)(c.Z,{fullWidth:!0,label:"Qisqacha ma’lumot (UZ)",multiline:!0,minRows:2,...t})}})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(h.Qr,{name:"summary_ru",control:g,render:e=>{let{field:t}=e;return(0,n.jsx)(c.Z,{fullWidth:!0,label:"Qisqacha ma’lumot (RU)",multiline:!0,minRows:2,...t})}})}),(0,n.jsxs)(d.ZP,{item:!0,xs:12,md:6,children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:8},children:"Asosiy rasm:"}),(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:Q}),R&&(0,n.jsx)("div",{style:{marginTop:8},children:(0,n.jsx)("img",{src:"http://45.138.159.166:8080"+R,alt:"featured preview",style:{maxWidth:200,maxHeight:200,borderRadius:8}})})]}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(h.Qr,{name:"is_featured",control:g,render:e=>{let{field:t}=e;return(0,n.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,n.jsx)("input",{type:"checkbox",checked:t.value,onChange:e=>t.onChange(e.target.checked)}),"Asosiy loyiha"]})}})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(h.Qr,{name:"order_index",control:g,render:e=>{let{field:t}=e;return(0,n.jsx)(c.Z,{fullWidth:!0,type:"number",label:"Tartib raqami",...t,inputProps:{min:0}})}})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(h.Qr,{name:"industries",control:g,render:e=>{let{field:t}=e;return(0,n.jsx)(p.Z,{multiple:!0,options:H,getOptionLabel:e=>e.name_uz||e.name||"",value:Array.isArray(t.value)?H.filter(e=>t.value.includes(e.id)):[],onChange:(e,r)=>t.onChange(r.map(e=>e.id)),renderInput:e=>(0,n.jsx)(c.Z,{...e,label:"Sanoat turlari"}),renderTags:(e,t)=>e.map((e,r)=>(0,n.jsx)("span",{...t({index:r}),children:e.name_uz||e.name}))})}})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(h.Qr,{name:"equipment_categories",control:g,render:e=>{let{field:t}=e;return(0,n.jsx)(p.Z,{multiple:!0,options:L,getOptionLabel:e=>e.name_uz||e.name_en||"",value:Array.isArray(t.value)?L.filter(e=>t.value.includes(e.id)):[],onChange:(e,r)=>t.onChange(r.map(e=>e.id)),renderInput:e=>(0,n.jsx)(c.Z,{...e,label:"Jihoz kategoriyalari"}),renderTags:(e,t)=>e.map((e,r)=>(0,n.jsx)("span",{...t({index:r}),children:e.name_uz||e.name_en}))})}})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(h.Qr,{name:"partners",control:g,render:e=>{let{field:t}=e;return(0,n.jsx)(p.Z,{multiple:!0,options:I,getOptionLabel:e=>e.name_uz||e.name||"",value:Array.isArray(t.value)?I.filter(e=>t.value.includes(e.id)):[],onChange:(e,r)=>t.onChange(r.map(e=>e.id)),renderInput:e=>(0,n.jsx)(c.Z,{...e,label:"Hamkorlar"}),renderTags:(e,t)=>e.map((e,r)=>(0,n.jsx)("span",{...t({index:r}),children:e.name_uz||e.name}))})}})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:4,children:(0,n.jsx)(h.Qr,{name:"country",control:g,render:e=>{let{field:t}=e;return(0,n.jsx)(c.Z,{select:!0,fullWidth:!0,label:"Mamlakat",...t,value:t.value||"",children:k.map(e=>(0,n.jsx)(m.Z,{value:e.id,children:e.name_uz||e.name},e.id))})}})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:4,children:(0,n.jsx)(h.Qr,{name:"region",control:g,render:e=>{let{field:t}=e;return(0,n.jsx)(c.Z,{select:!0,fullWidth:!0,label:"Viloyat",...t,value:t.value||"",children:V.map(e=>(0,n.jsx)(m.Z,{value:e.id,children:e.name_uz||e.name},e.id))})}})}),(0,n.jsx)(d.ZP,{item:!0,xs:12,md:4,children:(0,n.jsx)(h.Qr,{name:"district",control:g,render:e=>{let{field:t}=e;return(0,n.jsx)(c.Z,{select:!0,fullWidth:!0,label:"Tuman",...t,value:t.value||"",children:B.map(e=>(0,n.jsx)(m.Z,{value:e.id,children:e.name_uz||e.name},e.id))})}})})]})}),(0,n.jsxs)(s.Z,{children:[(0,n.jsx)(u.Z,{type:"submit",variant:"contained",disabled:b,children:b?"Saqlanmoqda…":"Saqlash"}),(0,n.jsx)(u.Z,{type:"button",variant:"tonal",color:"secondary",onClick:()=>e.push("/cms/projects"),style:{marginLeft:16},children:"Bekor qilish"})]}),r>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(z,{projectId:r,items:x.items,onAdd:x.add,onDelete:x.remove}),(0,n.jsx)(M,{projectId:r,items:j.items,onAdd:j.add,onDelete:j.remove})]})]})]})};H.acl={action:"update",subject:"cms"},H.authGuard=!0;var L=H}},function(e){e.O(0,[41,886,903,203,631,536,702,774,888,179],function(){return e(e.s=2917)}),_N_E=e.O()}]);