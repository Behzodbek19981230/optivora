(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[140],{4267:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var a=r(7462),n=r(3366),i=r(7294),o=r(6010),s=r(4780),l=r(948),d=r(1657),c=r(1588),u=r(4867);function h(e){return(0,u.Z)("MuiCardContent",e)}(0,c.Z)("MuiCardContent",["root"]);var v=r(5893);let Z=["className","component"],m=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},h,t)},x=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),p=i.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=r,l=(0,n.Z)(r,Z),c=(0,a.Z)({},r,{component:s}),u=m(c);return(0,v.jsx)(x,(0,a.Z)({as:s,className:(0,o.Z)(u.root,i),ownerState:c,ref:t},l))});var f=p},8445:function(e,t,r){"use strict";r.d(t,{Z:function(){return C}});var a=r(3366),n=r(7462),i=r(7294),o=r(6010),s=r(4780),l=r(5861),d=r(1657),c=r(948),u=r(1588),h=r(4867);function v(e){return(0,h.Z)("MuiCardHeader",e)}let Z=(0,u.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var m=r(5893);let x=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],p=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},v,t)},f=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,n.Z)({[`& .${Z.title}`]:t.title,[`& .${Z.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),g=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),j=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),y=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),b=i.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiCardHeader"}),{action:i,avatar:s,className:c,component:u="div",disableTypography:h=!1,subheader:v,subheaderTypographyProps:Z,title:b,titleTypographyProps:C}=r,w=(0,a.Z)(r,x),R=(0,n.Z)({},r,{component:u,disableTypography:h}),N=p(R),k=b;null==k||k.type===l.Z||h||(k=(0,m.jsx)(l.Z,(0,n.Z)({variant:s?"body2":"h5",className:N.title,component:"span",display:"block"},C,{children:k})));let M=v;return null==M||M.type===l.Z||h||(M=(0,m.jsx)(l.Z,(0,n.Z)({variant:s?"body2":"body1",className:N.subheader,color:"text.secondary",component:"span",display:"block"},Z,{children:M}))),(0,m.jsxs)(f,(0,n.Z)({className:(0,o.Z)(N.root,c),as:u,ref:t,ownerState:R},w,{children:[s&&(0,m.jsx)(g,{className:N.avatar,ownerState:R,children:s}),(0,m.jsxs)(y,{className:N.content,ownerState:R,children:[k,M]}),i&&(0,m.jsx)(j,{className:N.action,ownerState:R,children:i})]}))});var C=b},6242:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var a=r(7462),n=r(3366),i=r(7294),o=r(6010),s=r(4780),l=r(948),d=r(1657),c=r(629),u=r(1588),h=r(4867);function v(e){return(0,h.Z)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var Z=r(5893);let m=["className","raised"],x=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},v,t)},p=(0,l.ZP)(c.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),f=i.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,l=(0,n.Z)(r,m),c=(0,a.Z)({},r,{raised:s}),u=x(c);return(0,Z.jsx)(p,(0,a.Z)({className:(0,o.Z)(u.root,i),elevation:s?8:void 0,ref:t,ownerState:c},l))});var g=f},6265:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cms/news",function(){return r(1378)}])},1846:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var a=r(6976),n=r(871);function i(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,o=async e=>{let[t,r]=e,a=await n.D.get(t,r);return a.data},{data:s,error:l,isLoading:d,mutate:c}=(0,a.ZP)(e?[e,r]:null,o,{revalidateOnFocus:!1,keepPreviousData:!0,...i});return console.log("payload",s),{data:(null==s?void 0:s.results)||[],total:(null==s?void 0:null===(t=s.pagination)||void 0===t?void 0:t.total)||0,loading:!!d,error:l,mutate:c,raw:s}}},1378:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var a=r(5893),n=r(7294),i=r(6242),o=r(8445),s=r(3321),l=r(1664),d=r.n(l),c=r(6822),u=r(6886),h=r(4267),v=r(5861);let Z=e=>{let{data:t,onEdit:r,onDelete:n}=e;return(0,a.jsx)(u.ZP,{container:!0,spacing:6,children:t&&t.map((e,t)=>(0,a.jsx)(u.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,a.jsxs)(i.Z,{children:[e.cover_image&&(0,a.jsx)(c.Z,{sx:{height:180,overflow:"hidden",borderTopLeftRadius:6,borderTopRightRadius:6},children:(0,a.jsx)("img",{src:e.cover_image,alt:e.title,style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,a.jsxs)(h.Z,{children:[(0,a.jsx)(v.Z,{variant:"h5",sx:{mb:2},children:e.title}),(0,a.jsx)(v.Z,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.excerpt}),(0,a.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,a.jsxs)(v.Z,{variant:"caption",color:"text.disabled",children:["Kategoriya: ",e.category]}),(0,a.jsxs)(v.Z,{variant:"caption",color:"text.disabled",sx:{ml:2},children:["Status: ",e.status]})]}),(0,a.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,a.jsx)(s.Z,{component:d(),href:"/cms/news/".concat(e.id,"/edit"),size:"small",variant:"outlined",children:"Tahrirlash"}),(0,a.jsx)(s.Z,{color:"error",size:"small",variant:"outlined",onClick:()=>n&&n(e),children:"O‘chirish"})]})]})]})},e.id||t))})};var m=r(871),x=r(4640),p=r(9025),f=r(1846);let g=()=>{let[e,t]=(0,n.useState)(null),[r,l]=(0,n.useState)(!1),{data:c=[],mutate:u}=(0,f.z)(x.Z.news,{perPage:100}),h=e=>{t(e),l(!0)},v=async()=>{e&&(await m.D.delete(x.Z.newsById(e.id)),u(),l(!1))};return(0,a.jsxs)(i.Z,{children:[(0,a.jsx)(o.Z,{title:"Yangiliklar",action:(0,a.jsx)(d(),{href:"/cms/news/create",passHref:!0,legacyBehavior:!0,children:(0,a.jsx)(s.Z,{variant:"contained",component:"a",children:"Yangi yangilik"})})}),(0,a.jsx)(Z,{data:c,onDelete:h}),(0,a.jsx)(p.Z,{open:r,onClose:()=>l(!1),onConfirm:v,title:"Yangilikni o‘chirishni tasdiqlang",description:e?"“".concat(e.title,"” yangiligini o‘chirmoqchimisiz?"):void 0})]})};g.acl={action:"read",subject:"cms"},g.authGuard=!0;var j=g},9025:function(e,t,r){"use strict";var a=r(5893),n=r(657),i=r(7645),o=r(6580),s=r(1425),l=r(3321),d=r(5861);let c=e=>{let{open:t,onClose:r,onConfirm:c,confirming:u,title:h,description:v}=e;return(0,a.jsxs)(n.Z,{open:t,onClose:u?void 0:r,fullWidth:!0,maxWidth:"xs",children:[(0,a.jsx)(i.Z,{children:h||"Loyihani o‘chirishni tasdiqlang"}),(0,a.jsx)(o.Z,{children:(0,a.jsx)(d.Z,{variant:"body2",children:v||"Bu amalni bekor qilib bo‘lmaydi. Haqiqatdan ham o‘chirmoqchimisiz?"})}),(0,a.jsxs)(s.Z,{children:[(0,a.jsx)(l.Z,{variant:"tonal",color:"secondary",onClick:r,disabled:!!u,children:"Bekor qilish"}),(0,a.jsx)(l.Z,{color:"error",onClick:()=>c(),disabled:!!u,children:u?"O‘chirilmoqda…":"O‘chirish"})]})]})};t.Z=c}},function(e){e.O(0,[886,792,774,888,179],function(){return e(e.s=6265)}),_N_E=e.O()}]);