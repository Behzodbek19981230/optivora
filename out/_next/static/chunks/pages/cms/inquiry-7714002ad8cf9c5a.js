(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[550],{2882:function(e,n,i){"use strict";i.d(n,{Z:function(){return v}});var r=i(7462),a=i(3366),t=i(7294),l=i(6010),s=i(4780),o=i(1657),c=i(948),d=i(1588),u=i(4867);function h(e){return(0,u.Z)("MuiTableContainer",e)}(0,d.Z)("MuiTableContainer",["root"]);var Z=i(5893);let j=["className","component"],x=e=>{let{classes:n}=e;return(0,s.Z)({root:["root"]},h,n)},p=(0,c.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,n)=>n.root})({width:"100%",overflowX:"auto"}),f=t.forwardRef(function(e,n){let i=(0,o.Z)({props:e,name:"MuiTableContainer"}),{className:t,component:s="div"}=i,c=(0,a.Z)(i,j),d=(0,r.Z)({},i,{component:s}),u=x(d);return(0,Z.jsx)(p,(0,r.Z)({ref:n,as:s,className:(0,l.Z)(u.root,t),ownerState:d},c))});var v=f},5559:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cms/inquiry",function(){return i(2454)}])},1846:function(e,n,i){"use strict";i.d(n,{z:function(){return t}});var r=i(6976),a=i(871);function t(e){var n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,l=async e=>{let[n,i]=e,r=await a.D.get(n,i);return r.data},{data:s,error:o,isLoading:c,mutate:d}=(0,r.ZP)(e?[e,i]:null,l,{revalidateOnFocus:!1,keepPreviousData:!0,...t});return console.log("payload",s),{data:(null==s?void 0:s.results)||[],total:(null==s?void 0:null===(n=s.pagination)||void 0===n?void 0:n.total)||0,loading:!!c,error:o,mutate:d,raw:s}}},2454:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return q}});var r=i(5893),a=i(7294),t=i(6242),l=i(8445),s=i(7906),o=i(295),c=i(3252),d=i(2882),u=i(3184),h=i(3816),Z=i(3946),j=i(3321),x=i(4386),p=i(4640),f=i(871),v=i(1846),g=i(2171),m=i(5861),y=i(3730),w=i(657),_=i(7645),P=i(6580),C=i(1425);let k=()=>{let[e,n]=(0,a.useState)(0),[i,k]=(0,a.useState)(10),{data:b,total:q,loading:S,mutate:T}=(0,v.z)(p.Z.inquiries,{page:e+1,perPage:i}),[M,N]=(0,a.useState)(null),[E,O]=(0,a.useState)(!1),R=e=>{N(e),O(!0)},z=async()=>{M&&(await f.D.put(p.Z.inquiryById(M.id),{status:"closed"}),T(),O(!1))},D=()=>{O(!1)};return(0,r.jsxs)(t.Z,{children:[(0,r.jsx)(l.Z,{title:"Murojaatlar"}),(0,r.jsx)(d.Z,{children:(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(u.Z,{children:(0,r.jsxs)(h.Z,{children:[(0,r.jsx)(c.Z,{children:"F.I.Sh."}),(0,r.jsx)(c.Z,{children:"Kompaniya"}),(0,r.jsx)(c.Z,{children:"Email"}),(0,r.jsx)(c.Z,{children:"Telefon"}),(0,r.jsx)(c.Z,{children:"Murojaat turi"}),(0,r.jsx)(c.Z,{children:"Loyiha sohasi"}),(0,r.jsx)(c.Z,{children:"Status"}),(0,r.jsx)(c.Z,{align:"right",children:"Amallar"})]})}),(0,r.jsx)(o.Z,{children:S?(0,r.jsx)(h.Z,{children:(0,r.jsx)(c.Z,{colSpan:8,align:"center",children:"Yuklanmoqda…"})}):b&&b.length>0?b.map(e=>(0,r.jsxs)(h.Z,{children:[(0,r.jsx)(c.Z,{children:e.full_name}),(0,r.jsx)(c.Z,{children:e.company}),(0,r.jsx)(c.Z,{children:e.email}),(0,r.jsx)(c.Z,{children:e.phone}),(0,r.jsx)(c.Z,{children:e.inquiry_type}),(0,r.jsx)(c.Z,{children:e.project_sector}),(0,r.jsx)(c.Z,{children:e.status}),(0,r.jsx)(c.Z,{align:"right",children:"new"===e.status&&(0,r.jsx)(x.Z,{title:"Tahrirlash",children:(0,r.jsx)(Z.Z,{size:"small",color:"primary",onClick:()=>R(e),children:(0,r.jsx)(y.Z,{icon:"tabler:checks"})})})})]},e.id)):(0,r.jsx)(h.Z,{children:(0,r.jsx)(c.Z,{colSpan:8,align:"center",children:"Ma‘lumotlar yo‘q"})})})]})}),(0,r.jsx)(g.Z,{component:"div",count:q,page:e,onPageChange:(e,i)=>n(i),rowsPerPage:i,onRowsPerPageChange:e=>{k(parseInt(e.target.value,10)),n(0)},rowsPerPageOptions:[5,10,20,50]}),(0,r.jsxs)(w.Z,{open:E,onClose:D,fullWidth:!0,maxWidth:"xs",children:[(0,r.jsx)(_.Z,{children:"Tanishib chiqildi"}),(0,r.jsx)(P.Z,{children:(0,r.jsx)(m.Z,{variant:"body2",children:"Murojaat muvaffaqiyatli yuborildi."})}),(0,r.jsxs)(C.Z,{children:[(0,r.jsx)(j.Z,{variant:"tonal",color:"secondary",onClick:D,children:"Bekor qilish"}),(0,r.jsx)(j.Z,{color:"primary",onClick:()=>z(),children:"O'qildi"})]})]})]})},b=()=>(0,r.jsx)(k,{});var q=b}},function(e){e.O(0,[41,203,631,895,171,153,774,888,179],function(){return e(e.s=5559)}),_N_E=e.O()}]);