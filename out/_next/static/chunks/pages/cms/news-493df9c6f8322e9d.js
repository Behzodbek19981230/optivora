(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[140],{4267:function(e,t,a){"use strict";a.d(t,{Z:function(){return x}});var r=a(7462),n=a(3366),o=a(7294),i=a(6010),l=a(4780),s=a(948),d=a(1657),c=a(1588),u=a(4867);function h(e){return(0,u.Z)("MuiCardContent",e)}(0,c.Z)("MuiCardContent",["root"]);var v=a(5893);let Z=["className","component"],m=e=>{let{classes:t}=e;return(0,l.Z)({root:["root"]},h,t)},p=(0,s.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),f=o.forwardRef(function(e,t){let a=(0,d.Z)({props:e,name:"MuiCardContent"}),{className:o,component:l="div"}=a,s=(0,n.Z)(a,Z),c=(0,r.Z)({},a,{component:l}),u=m(c);return(0,v.jsx)(p,(0,r.Z)({as:l,className:(0,i.Z)(u.root,o),ownerState:c,ref:t},s))});var x=f},8445:function(e,t,a){"use strict";a.d(t,{Z:function(){return w}});var r=a(3366),n=a(7462),o=a(7294),i=a(6010),l=a(4780),s=a(5861),d=a(1657),c=a(948),u=a(1588),h=a(4867);function v(e){return(0,h.Z)("MuiCardHeader",e)}let Z=(0,u.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var m=a(5893);let p=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],f=e=>{let{classes:t}=e;return(0,l.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},v,t)},x=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,n.Z)({[`& .${Z.title}`]:t.title,[`& .${Z.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),g=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),b=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),y=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),j=o.forwardRef(function(e,t){let a=(0,d.Z)({props:e,name:"MuiCardHeader"}),{action:o,avatar:l,className:c,component:u="div",disableTypography:h=!1,subheader:v,subheaderTypographyProps:Z,title:j,titleTypographyProps:w}=a,C=(0,r.Z)(a,p),N=(0,n.Z)({},a,{component:u,disableTypography:h}),P=f(N),R=j;null==R||R.type===s.Z||h||(R=(0,m.jsx)(s.Z,(0,n.Z)({variant:l?"body2":"h5",className:P.title,component:"span",display:"block"},w,{children:R})));let _=v;return null==_||_.type===s.Z||h||(_=(0,m.jsx)(s.Z,(0,n.Z)({variant:l?"body2":"body1",className:P.subheader,color:"text.secondary",component:"span",display:"block"},Z,{children:_}))),(0,m.jsxs)(x,(0,n.Z)({className:(0,i.Z)(P.root,c),as:u,ref:t,ownerState:N},C,{children:[l&&(0,m.jsx)(g,{className:P.avatar,ownerState:N,children:l}),(0,m.jsxs)(y,{className:P.content,ownerState:N,children:[R,_]}),o&&(0,m.jsx)(b,{className:P.action,ownerState:N,children:o})]}))});var w=j},6242:function(e,t,a){"use strict";a.d(t,{Z:function(){return g}});var r=a(7462),n=a(3366),o=a(7294),i=a(6010),l=a(4780),s=a(948),d=a(1657),c=a(629),u=a(1588),h=a(4867);function v(e){return(0,h.Z)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var Z=a(5893);let m=["className","raised"],p=e=>{let{classes:t}=e;return(0,l.Z)({root:["root"]},v,t)},f=(0,s.ZP)(c.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),x=o.forwardRef(function(e,t){let a=(0,d.Z)({props:e,name:"MuiCard"}),{className:o,raised:l=!1}=a,s=(0,n.Z)(a,m),c=(0,r.Z)({},a,{raised:l}),u=p(c);return(0,Z.jsx)(f,(0,r.Z)({className:(0,i.Z)(u.root,o),elevation:l?8:void 0,ref:t,ownerState:c},s))});var g=x},6265:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cms/news",function(){return a(1378)}])},1846:function(e,t,a){"use strict";a.d(t,{z:function(){return o}});var r=a(6976),n=a(871);function o(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,i=async e=>{let[t,a]=e,r=await n.D.get(t,a);return r.data},{data:l,error:s,isLoading:d,mutate:c}=(0,r.ZP)(e?[e,a]:null,i,{revalidateOnFocus:!1,keepPreviousData:!0,...o});return console.log("payload",l),{data:(null==l?void 0:l.results)||[],total:(null==l?void 0:null===(t=l.pagination)||void 0===t?void 0:t.total)||0,loading:!!d,error:s,mutate:c,raw:l}}},1378:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var r=a(5893),n=a(7294),o=a(6242),i=a(8445),l=a(3321),s=a(1664),d=a.n(s),c=a(6822),u=a(6886),h=a(4267),v=a(5861),Z=a(7918);let m=[{value:"draft",label:"Draft",color:"info"},{value:"published",label:"Published",color:"success"}],p=[{value:"project_updates",label:"Project Updates",color:"primary"},{value:"industry_news",label:"Industry News",color:"info"},{value:"company_announcements",label:"Company Announcements",color:"secondary"}],f=e=>m.find(t=>t.value===e),x=e=>p.find(t=>t.value===e),g=e=>{let{data:t,onEdit:a,onDelete:n}=e;return(0,r.jsx)(u.ZP,{container:!0,spacing:6,children:t&&t.map((e,t)=>{var a,i,s,m;return(0,r.jsx)(u.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,r.jsxs)(o.Z,{children:[e.cover_image&&(0,r.jsxs)(c.Z,{sx:{position:"relative",height:180,overflow:"hidden",borderTopLeftRadius:6,borderTopRightRadius:6},children:[(0,r.jsx)("img",{src:e.cover_image,alt:e.title,style:{width:"100%",height:"100%",objectFit:"cover"}}),f(e.status)&&(0,r.jsx)(Z.Z,{label:null===(a=f(e.status))||void 0===a?void 0:a.label,color:null===(i=f(e.status))||void 0===i?void 0:i.color,size:"small",variant:"filled",sx:{position:"absolute",top:12,right:12,zIndex:2,fontWeight:600,boxShadow:2}})]}),(0,r.jsxs)(h.Z,{children:[(0,r.jsx)(v.Z,{variant:"h5",sx:{mb:2},children:e.title}),(0,r.jsx)(v.Z,{variant:"body2",color:"text.secondary",sx:{mb:2},children:e.excerpt}),(0,r.jsx)(c.Z,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:x(e.category)&&(0,r.jsx)(Z.Z,{label:null===(s=x(e.category))||void 0===s?void 0:s.label,color:null===(m=x(e.category))||void 0===m?void 0:m.color,size:"small",variant:"filled"})}),(0,r.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsx)(l.Z,{component:d(),href:"/cms/news/".concat(e.id,"/edit"),size:"small",variant:"outlined",children:"Tahrirlash"}),(0,r.jsx)(l.Z,{color:"error",size:"small",variant:"outlined",onClick:()=>n&&n(e),children:"O‘chirish"})]})]})]})},e.id||t)})})};var b=a(871),y=a(4640),j=a(9025),w=a(1846);let C=()=>{let[e,t]=(0,n.useState)(null),[a,s]=(0,n.useState)(!1),{data:c=[],mutate:u}=(0,w.z)(y.Z.news,{perPage:100}),v=e=>{t(e),s(!0)},Z=async()=>{e&&(await b.D.delete(y.Z.newsById(e.id)),u(),s(!1))};return(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(i.Z,{title:"Yangiliklar",action:(0,r.jsx)(d(),{href:"/cms/news/create",passHref:!0,legacyBehavior:!0,children:(0,r.jsx)(l.Z,{variant:"contained",component:"a",children:"Yangi yangilik"})})}),(0,r.jsx)(h.Z,{children:(0,r.jsx)(g,{data:c,onDelete:v})}),(0,r.jsx)(j.Z,{open:a,onClose:()=>s(!1),onConfirm:Z,title:"Yangilikni o‘chirishni tasdiqlang",description:e?"“".concat(e.title,"” yangiligini o‘chirmoqchimisiz?"):void 0})]})};C.acl={action:"read",subject:"cms"},C.authGuard=!0;var N=C},9025:function(e,t,a){"use strict";var r=a(5893),n=a(657),o=a(7645),i=a(6580),l=a(1425),s=a(3321),d=a(5861);let c=e=>{let{open:t,onClose:a,onConfirm:c,confirming:u,title:h,description:v}=e;return(0,r.jsxs)(n.Z,{open:t,onClose:u?void 0:a,fullWidth:!0,maxWidth:"xs",children:[(0,r.jsx)(o.Z,{children:h||"Loyihani o‘chirishni tasdiqlang"}),(0,r.jsx)(i.Z,{children:(0,r.jsx)(d.Z,{variant:"body2",children:v||"Bu amalni bekor qilib bo‘lmaydi. Haqiqatdan ham o‘chirmoqchimisiz?"})}),(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(s.Z,{variant:"tonal",color:"secondary",onClick:a,disabled:!!u,children:"Bekor qilish"}),(0,r.jsx)(s.Z,{color:"error",onClick:()=>c(),disabled:!!u,children:u?"O‘chirilmoqda…":"O‘chirish"})]})]})};t.Z=c}},function(e){e.O(0,[886,792,774,888,179],function(){return e(e.s=6265)}),_N_E=e.O()}]);